{
    "version": "2.0.0",
    "tasks": [
        {
            "label": "compile-fortran",
            "type": "shell",
            "command": "bash",
            "dependsOn": ["compile-include-files"],
            "args": [
                "-c",
                "gfortran -g -Og -fimplicit-none -fcheck=all -fbacktrace ${file} -I${fileDirname}/include ${fileDirname}/builds/*.o -o ${fileDirname}/builds/${fileBasenameNoExtension}.out"
            ]
        },
        {
            "label": "compile-include-files",
            "type": "shell",
            "command": "bash",
            "dependsOn": "create-folders",
            "args": [
                "-c",
                "cd ${fileDirname} && ./compile_modules.sh"
            ]
        },
        {
            "label": "create-folders",
            "type": "shell",
            "command": "mkdir",
            "args": ["-p", "${fileDirname}/builds"]
        }
    ]
}